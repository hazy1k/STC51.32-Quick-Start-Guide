# 小知识：了解PWM、频率与占空比

## 1. 什么是PWM

PWM-脉冲宽度调制，简称脉宽调制，广泛应用在从测量、通信到功率控制与变换的许多领域中。

### 1.1 PWM的频率

是指1秒钟内信号从高电平到低电平再回到高电平的次数(一个周期)。PWM的频率也就是说一秒钟PWM有多少个周期。

- 单位：Hz

- 表示方法：50Hz

### 1.2 PWM的周期

- 计算方法：T=1/f

比如频率为50Hz，1/50=0.02，即20ms一个PWM周期，那就是说一秒钟就有50个周期

### 1.3 占空比

占空比就是指在一个PWM周期内，高电平所占总时间的比例

- 单位：%

- 表示方法：20%

![](https://file1.elecfans.com/web2/M00/C5/ED/wKgZomYDuFuAIkhzAAAxjs2NUg8476.jpg)

### 1.4 周期

周期即一个脉冲信号的时间，1s内测周期次数等于频率。注意不要与PWM周期混淆

### 1.5 脉宽时间

脉宽时间即是高电平时间在总时间内所占

比如周期的时间是10ms，脉宽时间是8ms那么低电平时间就是2ms，占空比就是8/8+2=80%，这就是占空比为80%的脉冲信号。

而我们知道PWM就是脉冲宽度调制通过调节占空比，就可以调节脉冲宽度(脉宽时间) 的频率，就是单位时间内脉冲信号的次数，频率越大；

以20Hz 占空比为80% 举例 就是1秒钟之内输出了20次脉冲信号 每次的高电平时间为40ms。

![](https://file1.elecfans.com/web2/M00/C5/ED/wKgZomYDuFuAUE6VAACo5-LgZVk710.jpg)

上图中，周期为T，T1为高电平时间，T2 为低电平时间，假设周期T为 1s 那么频率就是 1Hz 那么高电平时间0.5s ，低电平时间0.5s 总的占空比就是 0.5 /1 =50%。

## 2. PWM原理及其运用

以单片机为例，我们知道，单片机的IO口输出的是数字信号，IO口只能输出高电平和低电平，假设高电平为5V 低电平则为0V 那么我们要输出不同的模拟电压，就要用到PWM，通过改变IO口输出的方波的占空比从而获得使用数字信号模拟成的模拟电压信号。

我们知道，电压是以一种连接1或断开0的重复脉冲序列被夹到模拟负载上去的（例如LED灯，直流电机等），连接即是直流供电输出，断开即是直流供电断开。通过对连接和断开时间的控制，理论上来讲，可以输出任意不大于最大电压值（即0~5V之间任意大小）的模拟电压。

比方说 占空比为50% 那就是高电平时间一半，低电平时间一半，在一定的频率下，就可以得到模拟的2.5V输出电压 那么75%的占空比 得到的电压就是3.75V。

![](https://file1.elecfans.com/web2/M00/C6/D5/wKgaomYDuFuACrCeAADpAYjzb7A082.jpg)

pwm的调节作用来源于对“占周期”的宽度控制，“占周期”变宽，输出的能量就会提高，通过阻容变换电路所得到的平均电压值也会上升，“占周期”变窄，输出的电压信号的电压平均值就会降低，通过阻容变换电路所得到的平均电压值也会下降。

也就是，**在一定的频率下，通过不同的占空比 即可得到不同的输出模拟电压。**

### 2.1 总结

**总结：PWM就是在合适的信号频率下，通过一个周期里改变占空比的方式来改变输出的有效电压。**

### 2.2 举例

PWM频率越大，相应越快，PWM输出呼吸灯，那么，PWM信号的实际作用是什么呢？我们以经常使用的呼吸灯举例：一般人眼睛对于80Hz 以上刷新频率则完全没有闪烁感。

频率太小的话看起来就会闪烁，那么我们平时见到的LED灯，当它的频率大于50Hz的时候，人眼就会产生视觉暂留效果，基本就看不到闪烁了，而是一个常亮的LED灯，你在1秒内，高电平0.5秒，低电平0.5秒，(频率1Hz)如此反复，那么你看到的电灯就会闪烁，但是如果是10毫秒内，5毫秒打开，5毫秒关闭，(频率100Hz) 这时候灯光的亮灭速度赶不上开关速度(LED灯还没完全亮就又熄灭了)，由于视觉暂留作用，人眼不感觉电灯在闪烁，而是感觉灯的亮度少了，因为高电平时间(占空比)为50%，亮度也就为之前的50% ，**频率很高时，看不到闪烁，占空比越大，LED越亮；频率很低时，可看到闪烁，占空比越大，LED越亮。**

所以，在频率一定下，可以用不同占空比改变LED灯的亮度。使其达到一个呼吸灯的效果。
