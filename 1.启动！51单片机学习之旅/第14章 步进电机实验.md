# 第十四章 步进电机实验

## 1. 导入

    前面章节， 我们介绍了直流电机的控制， 本章将向大家介绍步进电机， 步进电机是将电脉冲信号转变为角位移或线位移的开环控制元件。 本章主要从步进电机的结构、 工作原理、 电机参数分别介绍， 最后通过实验来实现步进电机运动的简单控制。 本章所要实现的功能是： 通过 ULN2003 驱动模块控制 28BYJ48 步进电机运行方向及速度， 当按下 KEY1 键可调节电机旋转方向； 当按下 KEY2 键， 电机加速； 当按下 KEY3 键， 电机减速。

## 1. 步进电机简介

    步进电机是将电脉冲信号转变为角位移或线位移的开环控制元件。 在非超载的情况下， 电机的转速、 停止的位置只取决于脉冲信号的频率和脉冲数， 而不受负载变化的影响， 即给电机加一个脉冲信号， 电机则转过一个步距角。 

    这一线性关系的存在， 加上步进电机只有周期性的误差而无累计误差等特点。 使得在速度、位置等控制领域用步进电机来控制变的非常的简单。 虽然步进电机已被广泛的应用， 但步进电机并不能像普通的直流电机， 交流电机在常规下使用。 它必须由双环形脉冲信号、 功率驱动电路等组成控制系统方可使用。

![屏幕截图 2024 06 07 101845](https://img.picgo.net/2024/06/07/-2024-06-07-101845ec68585202559341.png)

    和其他芯片一样，我们只要会用就行，至于什么结构，将来专业课会介绍[步进电机_百度百科 (baidu.com)](https://baike.baidu.com/item/%E6%AD%A5%E8%BF%9B%E7%94%B5%E6%9C%BA/276803)

## 2. 步进电机工作原理

    过于专业，我们不讨论，但是可以参考一下：

[步进电机基本原理及驱动方式详解_步进电机驱动器细分原理-CSDN博客](https://blog.csdn.net/qq_42059060/article/details/131093754)

[图解: 步进电机原理与驱动方式 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/166103097)

[4相5线步进电机驱动原理_四相五线步进电机工作原理-CSDN博客](https://blog.csdn.net/qq_42900996/article/details/112030155)

## 3. 步进电机技术指标

### 3.1 静态技术指标

- 相数：产生不同对极 N、 S 磁场的激磁线圈对数， 也可以理解为步进电机中线圈的组数， 其中两相步进电机步距角为 1.8° ， 三相的步进电机步距角为1.5° ， 相数越多的步进电机， 其步距角就越小。

- 拍数：完成一个磁场周期性变化所需脉冲数或导电状态用 n 表示， 或指电机转过一个齿距角所需脉冲数， 以四相电机为例， 有四相四拍运行方式即AB-BC-CD-DA-AB， 四相八拍运行方式即 A-AB-B-BC-C-CD-D-DA-A。

- 步距角：一个脉冲信号所对应的电机转动的角度， 可以简单理解为一个脉冲信号驱动的角度， 电机上都有写， 一般 42 步进电机的步距角为 1.8°

- 定位转矩：电机在不通电状态下， 电机转子自身的锁定力矩（ 由磁场齿形的谐波以及机械误差造成的） 。

- 静转距：电机在额定静态电压作用下， 电机不作旋转运动时， 电机转轴的锁定力矩。 此力矩是衡量电机体积的标准， 与驱动电压及驱动电源等无关。

### 3.2 动态技术指标

- 步距角精度：步进电机转动一个步距角度的理论值与实际值的误差。 用百分比表示： 误差/步距角 *100%。

- 失步：电机运转时运转的步数， 不等于理论上的步数。 也可以叫做丢步，一般都是因负载太大或者是频率过快。

- 失调角：转子齿轴线偏移定子齿轴线的角度， 电机运转必存在失调角， 由失调角产生的误差， 采用细分驱动是不能解决的。

- 最大空载起动频率：在不加负载的情况下， 能够直接起动的最大频率。

- 最大空载的运行频率：电机不带负载的最高转速频率。

- 运行转距特性：电机的动态力矩取决于电机运行时的平均电流（ 而非静态电流） ， 平均电流越大， 电机输出力矩越大， 即电机的频率特性越硬。

- 电机正反转控制：通过改变通电顺序而改变电机的正反转。

更多可以参考：[步进电机参数解读（主要技术参数）_旋转步进电机 - 鸣志官网 (moons.com.cn)](https://www.moons.com.cn/article/cn-techschool-stepmotor-00046)

[步进电机型号，尺寸，参数表（CK3）－中国步进电机网 (zgbjdj.com)](http://www.zgbjdj.com/news2.asp?id=8976)

## 4. 28BYJ-48步进电机简介

    我们做实验用到的步进电机为：28BYJ-48 步进电机，该步进电机自带减速器，为四相无线步进电机，直径为28mm，实物图及内部结构如下：

![](https://tse1-mm.cn.bing.net/th/id/OIP-C.aarsZpbJWZyu5CFuGZwnVAHaHa?w=173&h=180&c=7&r=0&o=5&dpr=1.5&pid=1.7)

![屏幕截图 2024 06 07 103809](https://img.picgo.net/2024/06/07/-2024-06-07-103809d79b529ae39b065f.png)

28BYJ48 步进电机旋转驱动方式如下表：

![屏幕截图 2024 06 07 103913](https://img.picgo.net/2024/06/07/-2024-06-07-10391376e8b830243f0abf.png)

28BYJ48 步进电机主要参数如下所示：

![屏幕截图 2024 06 07 104204](https://img.picgo.net/2024/06/07/-2024-06-07-104204d1389eda7ccd913e.png)

    在上图中 28BYJ48 步进电机主要参数中可以看到有一个减速比： 1:64， 步进角为 5.625/64 度， 如果需要转动一圈， 那么需要 360/5.625*64=4096 个脉冲信号

    减速比这个和之前介绍的直流减速电机有点类似， 所以 28BYJ48 步进电机实际上是： 减速齿轮+步进电机组成， 28BYJ48 步进电机减速齿轮实物图如下所示：

![屏幕截图 2024 06 07 104308](https://img.picgo.net/2024/06/07/-2024-06-07-10430847cade39d56ecd8f.png)

## 5. 硬件设计

本实验使用到硬件资源如下：

- 步进电机驱动模块 

- 28BYJ-48 步进电机

该电路在前面直流电机实验中已介绍， 此处不再重复。

## 6. 软件设计

    本章所要实现的功能是： 通过 ULN2003 驱动模块控制 28BYJ48 步进电机运行方向及速度， 当按下 KEY1 键可调节电机旋转方向； 当按下 KEY2 键， 电机加速；当按下KEY3键，电机减速

```c

```
