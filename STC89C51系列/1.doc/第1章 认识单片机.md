# 第一章 认识单片机

## 1. 什么是单片机？

- 单片机，英文Micro Controller Unit，简称MCU

- 内部有CPU、RAM、ROM\定时器、中断系统

    现在还不必了解这么多，简单来说单片机就是一个小型计算机

## 2. 单片机能做什么？

    控制、通讯、计算、检测它都能做

## 3. 我们为什么要学习51单片机？

    就我个人来说，1.好玩。2.为后面SMT32及更高级的单片机打基础。相信大多数人都应该是这样的

## 4. 单片机命名有什么规则？

    就拿我手中的普中A7开发板举例，主控芯片为STC89C516RD +

- STC--表示芯片为 STC 公司生产的产品，其他公司的也有 AT、i、SST 等。

- 8--表示该芯片为 8051 内核芯片。

- 9--表示内部含有 Flash EEPROM 存储器，还有如 80C51 中 0 表内部含有MaskROM（掩模 ROM）存储器；如 87C51 中 7 表示内部含有 EPROM（紫外线可擦除ROM）存储器。

- C--表示该器件为 CMOS 产品（学过模电的都知道应该CMOS是什么doge）。还有如 89LV52 和 89LE58 中的 LV 和 LE 都表示该芯片为低电压产品（通常为 3.3V 电压供电）；而 89S52 中 S 表示该芯片含有可串行下载功能的 Flash 存储器，即具有 ISP 可在线编程功能。

- 5--固定不变。

- 16--表示该芯片内部程序存储（FLASH）空间大小，1 为 4KB，2 为 8KB，3 为12KB，即该数乘以 4KB 就是芯片内部的程序存储空间大小。程序空间大小决定了一个芯片所能装入执行代码的多少。一般来说，程序存储空间越大，芯片价格也越高，所以我们再选择芯片的时候要根据自己需求选择合适芯片。

- RD+--STC 单片机内部 RAM（随机读写存储器）为 1280B。

请看下面图片详细的介绍：

![](https://img.picgo.net/2024/05/22/1a264a89f5f1ff3f5.png)

## 5. 简单看一下芯片管脚

![](https://img.picgo.net/2024/05/22/-2024-05-22-214105a9f6f5d574604661.png)

左边是非常经典的DIP-40封装

    其内部资源如下：

- 8 位 CPU

- 4kbytes 程序存储器(ROM) (52 为 8K)

- 128bytes 的数据存储器(RAM) （52 有 256bytes 的 RAM）

- 32 条 I/O 口线

- 111 条指令，大部分为单字节指令

- 21 个专用寄存器

- 2 个可编程定时/计数器

- 5 个中断源，2 个优先级（52 有 6 个）

- 一个全双工串行通信口

- 外部数据存储器寻址空间为 64kB

- 外部程序存储器寻址空间为 64kB

- 逻辑操作位寻址功能

- 双列直插 40PinDIP 封装

- 单一+5V 电源供电

    CPU：主要用来计算，用运算和控制逻辑组成，还包括中断系统和部分外部特殊功能寄存器

    RAW：也就是我们所熟悉的内存，可以用来存放一些读写的数据

    ROM：存储空间，用来存放程序、数据

    I/O口：指输入/输出接口，它是计算机或其他设备用来与外部设备进行通信的接口。

    T/C：两个定时/计数器

## 6. 内部结构简单介绍

![](https://img.picgo.net/2024/05/22/-2024-05-22-214857fd937c6b1ee52d74.png)

    总线（BUS）是单片机各部件之间传送信息的公共通道。单片机中有内部总线和外部总线两类，内部总线是 CPU 内部之间的连线，外部总线是指 CPU 与其它部件之间的连线；外部总线有三种: 数据总线 DB（Data Bus）,地址总线 AB（Address Bus）和控制总线 CBControl Bus）。

## 7. 芯片引脚介绍

40引脚我们可以按功能分为三类

1. 电源引脚：如VCC(+)、GND(-)

2. 时钟引脚：如 XTAL1、XTAL2

3. 编程控制引脚（了解即可）：如 RST、PSEN、ALE/PROG、EA/Vpp。

4. I/O口引脚：如 P0、P1、P2、P3，4 组 8 位 I/O 口。
- VCC（40 脚）、GND（20 脚）：电源引脚，不同型号单片机接入对应电压，常压为+5V，低压为+3.3V，大家在使用时要查看其芯片所要求的电压

- XTAL1（19 脚）、XTAL2（18 脚）：外接时钟引脚。XTAL1 为片内振荡电路的输入端，XTAL2 为片内振荡电路的输出端。

- RST（9 脚）：复位引脚。当输入连续两个机器周期以上高电平时为有效，用来完成单片机的复位初始化操作，即单片机从头开始执行程序。

- P0 口（39 脚~32 脚）：双向 8 位三态 I/O 口，每个口可独立控制。51 单片机 P0 口内部没有上拉电阻，若输出高时为高阻态，不能正常输出高电平，因此该组 I/O 口，每个口可独立控制。51 单片机 P0 口内部没有上拉电阻，若输出高时为高阻态，不能正常输出高电平，因此该组 I/O 口在使用时务必要外接上拉电阻，一般我们选择接入 10K 欧上拉电阻。

- P1 口（1 脚~8 脚）：准双向 8 位 I/O 口，每个口可独立控制，内部自带上拉电阻，这种接口输出没有高阻态，输入也不能锁存，故不是真正的双向 I/O 口。之所以称它为“准双向”是因为该口在作为输入使用前，要先向该口进行写 1操作，然后单片机内部才可正确读出外部信号，也就是要使其先有个“准”备的过程，所以才称为准双向口。对 52 单片机 P1.0 引脚的第二功能未 T2 定时器/计数器的外部输入，P1.1 引脚的第二功能为 T2EX 捕捉、重装触发，即 T2 的外部控制端。

- P2 口（21 脚~28 脚）：准双向 8 位 I/O 口，每个口可独立控制，内部自带上拉电阻，与 P1 口相似。

- P3 口（10 脚~17 脚）：准双向 8 位 I/O 口，每个口可独立控制，内部自带上拉电阻。作为第一功能使用时就当做普通 I/O 口，与 P1 口相似。作为第二功能使用时，各引脚的定义如下：

![](C:\Users\qiu\AppData\Roaming\marktext\images\2024-08-18-09-40-46-image.png)

## 8. 小结

    对于这一章，我建议只是简单看一下单片机是个什么东西就行了，不必深究。突然给一大堆你之前不知道的东西给你，你肯定难受，我之前也这样啊，而且我还很简化了很大，别人的教程花很多笔墨在单片机的引脚、内部结构、寄存器上。

    我觉得这些东西现在了解非常清楚没有必要，后面遇到了再慢慢学效果会更好

    第二章，我们开始介绍开发板，第三章就点亮LED灯

---

2024.6.24修订，后续不再维护
